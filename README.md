# ✈️ Запуск n8n в Cloud.ru (Container Apps + Object Storage)

Этот репозиторий описывает, как развернуть **n8n** в облаке **Cloud.ru**  
с использованием сервисов **Container Apps** и **Object Storage**.

Чтобы n8n работал корректно и сохранял свои данные, **все шаги ниже
нужно выполнить именно в панели Cloud.ru**.

---

## 1. Предварительные требования

- Аккаунт в **Cloud.ru**.
- Активный проект с доступом к:
  - **Object Storage**
  - **Container Apps**
- Любой современный браузер.

---

## 2. Шаг 1 — создать бакет в Object Storage

1. Войдите в панель **Cloud.ru** и откройте сервис **Object Storage**.
2. Нажмите **Создать бакет** и задайте параметры:

   - **Название** —  
     формат `your_name-n8n`, например:  
     `antonina-n8n`
   - **Доменное имя** —  
     то же самое, что и название, например:  
     `antonina-n8n`
   - **Класс хранения по умолчанию** — `Стандартный`.
   - **Максимальный размер** — отключите ограничение или задайте по своему усмотрению.

3. Сохраните бакет и убедитесь, что:
   - он появился в списке бакетов;
   - у него **класс хранения — Стандартный**.

Этот бакет будет использоваться как постоянное хранилище данных n8n.

---

## 3. Шаг 2 — создать контейнерный сервис с образом n8n

1. Перейдите в раздел **Container Apps** → **Container Services**.
2. Нажмите кнопку **Создать**.
3. Введите:

   - **Название Container Service**, например:  
     `container-app-n8n-name`.

4. Включите опцию **Тестовый образ** и выберите образ:

   > `Воркфлоу-приложение на n8n`

5. На вкладке **Общие параметры** проверьте настройки тестового образа:

   - **Конфигурация** — `0.2 vCPU – 512 RAM`.
   - **Название контейнера** — например `n8n-container`.
   - **Порт контейнера** — `5678`.

---

## 4. Шаг 3 — переменные окружения n8n

Тестовый образ уже содержит необходимые переменные. Они должны выглядеть так:

```env
N8N_PROTOCOL=https
N8N_HOST=<container_app_name>.containerapps.ru
WEBHOOK_URL=https://<container_app_name>.containerapps.ru
GENERIC_TIMEZONE=Europe/Moscow
